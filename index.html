<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="style.css">
  <title>Document</title>
</head>

<body>
  <div class="slider-container">
    <div class="slider__wrap">
      <div class="slider__item">
        <h1>
          slide 1
        </h1>
      </div>
      <div class="slider__item">
        <h1>
          slide 2
        </h1>
      </div>
      <div class="slider__item">
        <h1>
          slide 3
        </h1>
      </div>
    </div>
    <div class="pagination">
      <button class="btn btn--prev">
        <</button> <button class="btn btn--next">>
      </button>
    </div>
    <div class="dots">
      
    </div>
  </div>
</body>


<script>
  class minSlider {
    constructor(slider, pagination) {
      this.slider = document.querySelector(`${slider}`);
      this.pagination = document.querySelector(`${pagination}`)
    }

    slideIndex = 0;
    init() {
      this.start();
      this.dots();
    };
    start() {
      let sliderWrap = this.slider.querySelector('.slider__wrap');
      // listeners
      this.pagination.addEventListener('click', (e) => {
        if (e.target.classList.contains('btn--prev')) prevSlide()
        if (e.target.classList.contains('btn--next')) nextSlide()
      })
      // touch
      let startX = 0;
      let dist = 0;
      sliderWrap.addEventListener('touchstart', (e) => {
        sliderWrap.style.transition = '0s';
        startX = e.changedTouches[0].clientX
      })
      sliderWrap.addEventListener('touchmove', (e) => {
        dist = e.changedTouches[0].clientX - startX
        sliderWrap.style.transform = `translateX(${-this.slideIndex * sliderWrap.children[0].scrollWidth + dist}px)`
      })
      sliderWrap.addEventListener('touchend', () => {
        if (dist > 100) prevSlide();
        else if (dist < -100) nextSlide();
        else returnSlide()
      })
      // logical
      const nextSlide = () => {
        this.slideIndex == sliderWrap.children.length - 1 ? this.slideIndex = sliderWrap.children.length - 1 : this.slideIndex++;
        sliderWrap.style.transition = 'all ease 0.5s';
        sliderWrap.style.transform = `translateX(${-this.slideIndex * sliderWrap.children[0].scrollWidth}px)`;
      };
      const prevSlide = () => {
        this.slideIndex == 0 ? this.slideIndex = 0 : this.slideIndex--;
        sliderWrap.style.transition = 'all ease 0.5s';
        sliderWrap.style.transform = `translateX(${-this.slideIndex * sliderWrap.children[0].scrollWidth}px)`;
      };
      const returnSlide = () => {
        sliderWrap.style.transition = 'all ease 0.5s';
        sliderWrap.style.transform = `translateX(${-this.slideIndex * sliderWrap.children[0].scrollWidth}px)`;
      }
    };
    dots() {
      let numberOfDots = this.slider.querySelector('.slider__wrap').children.length;
      console.log(numberOfDots)
    }
  }
  const slider = new minSlider('.slider-container', '.pagination').init()

</script>

</html>